<!DOCTYPE html>
<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"><style type="text/css">.gm-style .gm-style-iw{font-weight:300;font-size:13px;overflow:hidden}.gm-style .gm-iw{color:#2c2c2c}.gm-style .gm-iw b{font-weight:400}.gm-style .gm-iw a:link,.gm-style .gm-iw a:visited{color:#4272db;text-decoration:none}.gm-style .gm-iw a:hover{color:#4272db;text-decoration:underline}.gm-style .gm-iw .gm-title{font-weight:400;margin-bottom:1px}.gm-style .gm-iw .gm-basicinfo{line-height:18px;padding-bottom:12px}.gm-style .gm-iw .gm-website{padding-top:6px}.gm-style .gm-iw .gm-photos{padding-bottom:8px;-ms-user-select:none;-moz-user-select:none;-webkit-user-select:none}.gm-style .gm-iw .gm-sv,.gm-style .gm-iw .gm-ph{cursor:pointer;height:50px;width:100px;position:relative;overflow:hidden}.gm-style .gm-iw .gm-sv{padding-right:4px}.gm-style .gm-iw .gm-wsv{cursor:pointer;position:relative;overflow:hidden}.gm-style .gm-iw .gm-sv-label,.gm-style .gm-iw .gm-ph-label{cursor:pointer;position:absolute;bottom:6px;color:#fff;font-weight:400;text-shadow:rgba(0,0,0,0.7) 0 1px 4px;font-size:12px}.gm-style .gm-iw .gm-stars-b,.gm-style .gm-iw .gm-stars-f{height:13px;font-size:0}.gm-style .gm-iw .gm-stars-b{position:relative;background-position:0 0;width:65px;top:3px;margin:0 5px}.gm-style .gm-iw .gm-rev{line-height:20px;-ms-user-select:none;-moz-user-select:none;-webkit-user-select:none}.gm-style.gm-china .gm-iw .gm-rev{display:none}.gm-style .gm-iw .gm-numeric-rev{font-size:16px;color:#dd4b39;font-weight:400}.gm-style .gm-iw.gm-transit{margin-left:15px}.gm-style .gm-iw.gm-transit td{vertical-align:top}.gm-style .gm-iw.gm-transit .gm-time{white-space:nowrap;color:#676767;font-weight:bold}.gm-style .gm-iw.gm-transit img{width:15px;height:15px;margin:1px 5px 0 -20px;float:left}.gm-iw {text-align:left;}.gm-iw .gm-numeric-rev {float:left;}.gm-iw .gm-photos,.gm-iw .gm-rev {direction:ltr;}.gm-iw .gm-stars-f, .gm-iw .gm-stars-b {background:url("https://maps.gstatic.com/mapfiles/api-3/images/review_stars.png") no-repeat;background-size: 65px 26px;float:left;}.gm-iw .gm-stars-f {background-position:left -13px;}.gm-iw .gm-sv-label,.gm-iw .gm-ph-label {left: 4px;}</style><style type="text/css">.gm-style .gm-style-mtc label,.gm-style .gm-style-mtc div{font-weight:400}</style><link type="text/css" rel="stylesheet" href="Place%20searches_fichiers/css.css"><style type="text/css">.gm-style .gm-style-cc span,.gm-style .gm-style-cc a,.gm-style .gm-style-mtc div{font-size:10px}</style><style type="text/css">@media print {  .gm-style .gmnoprint, .gmnoprint {    display:none  }}@media screen {  .gm-style .gmnoscreen, .gmnoscreen {    display:none  }}</style><style type="text/css">.gm-style { font: 400 11px Roboto, Arial, sans-serif;text-decoration: none; }.gm-style img { max-width: none; }</style>
  <script src="Place%20searches_fichiers/jquery-1.js" style=""></script>
<script src="Place%20searches_fichiers/jquery-ui.js"></script>
<script src="Place%20searches_fichiers/bootstrap.js"></script>
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="Place%20searches_fichiers/bootstrap.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<link rel="stylesheet" href="Place%20searches_fichiers/map.css">
    <title>Place searches</title>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <style>
      html, body {
        height: 100vh;
        margin: 0;
        padding: 0;
      }
    </style>
    <script>
	var map;
	var infowindow;
	var labels = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
	var labelIndex = 0;
	var parcours_index = 0;
	var bounds ;
	var all_pts =
			    [[{     "adresse": "1 Rue Jacques-Plante, Shawinigan, QC G9N 0B7, Canada",     "description": "\r\n",     "duration": 60.0,     "extra": "Sport, Hockey ; Baie-Comeau vs Cats ; \"Centre Gervais Auto 1, rue Jacques-Plante\" ; 29/01/2017 ; 16h ;  ; \r\n",     "id": 20,     "lat": 46.547609,     "lng": -72.745022,     "name": "Baie-Comeau vs Cats",     "score": 0.26335125,     "tags": "equipe provincial\nhockey\nhiver\npatins\nglace\nsport\nadulte\njoueur\nmatch",     "type": "Evenements WE" },{     "adresse": "902 Du St Maurice Promenade, Shawinigan, QC G9N 1L8, Canada",     "description": "Bistro, microbrasserie, cocktails",     "duration": 60.0,     "extra": "Le Saint-Mo Bistro Gourmand ; Bistro, microbrasserie, cocktails ; 902 Du St Maurice Promenade ; 4 ; \"samedi 11h00-22h00 dimanche 11h00-21h00 lundi 11h00-21h00 mardi 11h00-21h00 mercredi 11h00-21h00 jeudi 11h00-21h00 vendredi 11h00-22h00\"\r\n",     "id": 28,     "lat": 46.540138,     "lng": -72.753903,     "name": "Le Saint-Mo Bistro Gourmand",     "score": 0.23409,     "tags": "Bistro, microbrasserie, cocktails. bistro terrasses vues riviere mets reconfortants cocktails",     "type": "resto" },{     "adresse": "1900 Avenue Melville, Shawinigan, QC G9N, Canada",     "description": "\"Territoire naturel, compos\u00e9 de 2 \u00eeles, une montagne et d'un grand territoire forestier : 160 hectares de nature, en plein centre-ville\"\r\n",     "duration": 120.0,     "extra": "Parc de l'ile Melville ; 1900 avenue Melville, Shawinigan, G9N 6T8 ;  ;  ;  ;  ;  ; \"Randonn\u00e9es, Activit\u00e9s hivernales, camping, accrobranche, canoes, kayaks, p\u00e9dalos,  rabaska, chaloupe, sentier historique, skie de fond,  \" ; \"Territoire naturel, compos\u00e9 de 2 \u00eeles, une montagne et d'un grand territoire forestier : 160 hectares de nature, en plein centre-ville\"\r\n",     "id": 46,     "lat": 46.534844,     "lng": -72.754988,     "name": "Parc de l'ile Melville",     "score": 0.25164675,     "tags": "parc, espace, nature, arbre, camping, activite, ile, marina, bateau, sentier, randonnee, balade",     "type": "Parcs" },{     "adresse": "1000 Avenue Melville, Shawinigan, QC G9N, Canada",     "description": "La visite compl\u00e8te comprend le centre de sciences, le secteur historique AVEC l'exposition Mus\u00e9e du Premier ministre Jean Chr\u00e9tien, le Canada dans le monde.\n",     "duration": 120.0,     "extra": "Cit\u00e9 de l'Energie Musee ; 1000 Avenue Melville, Shawinigan, QC G9N 6T9 ; \"10 juin au 24 septembre 2016 A l'annee pour les groupes\" ; 10h ; 17h ; 2h (visite partielle) ; 4h (visite complete) ; La visite compl\u00e8te comprend le centre de sciences, le secteur historique AVEC l'exposition Mus\u00e9e du Premier ministre Jean Chr\u00e9tien, le Canada dans le monde.\r\n",     "id": 5,     "lat": 46.533826,     "lng": -72.755386,     "name": "Cit\u00e9 de l'Energie Musee",     "score": 0.280908,     "tags": "visite histoire culture science musee energie typique immanquable",     "type": "Patrimoine cult hist" }] ];
	var all_markers ;

	function initMap() {
	  map = new google.maps.Map(document.getElementById('map'), {
	    center: {lat: 46.5619, lng: -72.7435}, //center on shawinigan
	    zoom: 12
	  });
	  infowindow = new google.maps.InfoWindow();
	  console.log(all_pts);
	  all_markers = new Array(all_pts.length);
	  for(var j = 0 ; j < all_pts.length; j++){
		  all_markers[j] = new Array(all_pts[j].length);
		  for(var i = 0; i < all_pts[j].length; i++) {
	            all_markers[j][i]=createMarker(all_pts[j][i]);
		  }
	  }
	  console.log(all_markers);
	  afficherProp(0);

	}

	 // var service = new google.maps.places.PlacesService(map);


	function callback(results, status) {
	  if (status === google.maps.places.PlacesServiceStatus.OK) {
	    for (var i = 0; i < results.length; i++) {
	      createMarker(results[i]);
	    }
	  }
	}

	function createMarker(place) {
	  var marker = new google.maps.Marker({
	    map: map,
	    //position:place.geometry.location,
	    position: {lat: place.lat, lng: place.lng},
	    label: labels[labelIndex++]
	  });

	  google.maps.event.addListener(marker, 'click', function() {
	    infowindow.setContent(place.name);
	    infowindow.open(map, this);
	  });
	  return marker;
	}

    </script>
  <script type="text/javascript" charset="UTF-8" src="Place%20searches_fichiers/common.js"></script><script type="text/javascript" charset="UTF-8" src="Place%20searches_fichiers/map.js"></script><script type="text/javascript" charset="UTF-8" src="Place%20searches_fichiers/util.js"></script><script type="text/javascript" charset="UTF-8" src="Place%20searches_fichiers/marker.js"></script><script type="text/javascript" charset="UTF-8" src="Place%20searches_fichiers/infowindow.js"></script><script type="text/javascript" charset="UTF-8" src="Place%20searches_fichiers/ViewportInfoService.GetViewportInfo"></script><script type="text/javascript" charset="UTF-8" src="Place%20searches_fichiers/stats.js"></script><script type="text/javascript" charset="UTF-8" src="Place%20searches_fichiers/controls.js"></script><script type="text/javascript" charset="UTF-8" src="Place%20searches_fichiers/AuthenticationService.Authenticate"></script><script type="text/javascript" charset="UTF-8" src="Place%20searches_fichiers/QuotaService.RecordEvent"></script></head>
  <body>
  <div id="entete">
  <nav class="navbar navbar-default navbar-fixed-top">
  <div class="container-fluid">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a id="display_menu" class="navbar-brand clickable" href="http://192.168.199.109/Hackathon/Web/home.php"><h3 class="title">ShawiniGo</h3></a>
      </div>
      </div>
</nav>
</div>
<div id="wrapper" class="container">
    <div class="col-md-6" style="height: 100%">
	<div id="cadre" style="  width :100%; padding:10px">
    <div id="map" style="position: relative; overflow: hidden;"><div style="height: 100%; width: 100%; position: absolute; top: 0px; left: 0px; background-color: rgb(229, 227, 223);"><div style="position: absolute; left: 0px; top: 0px; height: 100%; width: 100%; padding: 0px; border-width: 0px; margin: 0px; -moz-user-select: none; z-index: 0;" class="gm-style"><div style="position: absolute; left: 0px; top: 0px; height: 100%; width: 100%; padding: 0px; border-width: 0px; margin: 0px; -moz-user-select: none; z-index: 0; cursor: url(&quot;https://maps.gstatic.com/mapfiles/openhand_8_8.cur&quot;), default;"><div style="position: absolute; left: 0px; top: 0px; z-index: 1; width: 100%;"><div style="position: absolute; left: 0px; top: 0px; z-index: 100; width: 100%;"></div><div style="position: absolute; left: 0px; top: 0px; z-index: 101; width: 100%;"></div><div style="position: absolute; left: 0px; top: 0px; z-index: 102; width: 100%;"></div><div style="position: absolute; left: 0px; top: 0px; z-index: 103; width: 100%;"><div style="position: absolute; left: 0px; top: 0px; z-index: -1;"><div style="position: absolute; left: 0px; top: 0px; z-index: 1; visibility: inherit;" aria-hidden="true"><div style="width: 256px; height: 256px; overflow: hidden; position: absolute; left: 235px; top: 207px;"></div><div style="width: 256px; height: 256px; overflow: hidden; position: absolute; left: -21px; top: 207px;"></div><div style="width: 256px; height: 256px; overflow: hidden; position: absolute; left: 235px; top: -49px;"></div><div style="width: 256px; height: 256px; overflow: hidden; position: absolute; left: 235px; top: 463px;"></div><div style="width: 256px; height: 256px; overflow: hidden; position: absolute; left: 491px; top: 207px;"></div><div style="width: 256px; height: 256px; overflow: hidden; position: absolute; left: -21px; top: -49px;"></div><div style="width: 256px; height: 256px; overflow: hidden; position: absolute; left: -21px; top: 463px;"></div><div style="width: 256px; height: 256px; overflow: hidden; position: absolute; left: 491px; top: -49px;"></div><div style="width: 256px; height: 256px; overflow: hidden; position: absolute; left: 491px; top: 463px;"></div></div></div><div style="width: 22px; height: 40px; overflow: hidden; position: absolute; left: 299px; top: 102px; z-index: 142;"><img style="position: absolute; left: 0px; top: 0px; width: 22px; height: 40px; -moz-user-select: none; border: 0px none; padding: 0px; margin: 0px; max-width: none;" src="Place%20searches_fichiers/spotlight-poi-dotless.png" draggable="false"></div><div style="width: 22px; height: 40px; overflow: hidden; position: absolute; left: 196px; top: 228px; z-index: 268;"><img style="position: absolute; left: 0px; top: 0px; width: 22px; height: 40px; -moz-user-select: none; border: 0px none; padding: 0px; margin: 0px; max-width: none;" src="Place%20searches_fichiers/spotlight-poi-dotless.png" draggable="false"></div><div style="width: 22px; height: 40px; overflow: hidden; position: absolute; left: 183px; top: 318px; z-index: 358;"><img style="position: absolute; left: 0px; top: 0px; width: 22px; height: 40px; -moz-user-select: none; border: 0px none; padding: 0px; margin: 0px; max-width: none;" src="Place%20searches_fichiers/spotlight-poi-dotless.png" draggable="false"></div><div style="width: 22px; height: 40px; overflow: hidden; position: absolute; left: 178px; top: 335px; z-index: 375;"><img style="position: absolute; left: 0px; top: 0px; width: 22px; height: 40px; -moz-user-select: none; border: 0px none; padding: 0px; margin: 0px; max-width: none;" src="Place%20searches_fichiers/spotlight-poi-dotless.png" draggable="false"></div><div style="position: absolute; left: 310px; top: 114px; z-index: 142;"><div style="height: 100px; margin-top: -50px; margin-left: -50%; display: table; border-spacing: 0px;"><div style="display: table-cell; vertical-align: middle; white-space: nowrap; text-align: center;"><div style="color: rgb(0, 0, 0); font-size: 14px; font-family: Roboto,Arial,sans-serif;">A</div></div></div></div><div style="position: absolute; left: 207px; top: 240px; z-index: 268;"><div style="height: 100px; margin-top: -50px; margin-left: -50%; display: table; border-spacing: 0px;"><div style="display: table-cell; vertical-align: middle; white-space: nowrap; text-align: center;"><div style="color: rgb(0, 0, 0); font-size: 14px; font-family: Roboto,Arial,sans-serif;">B</div></div></div></div><div style="position: absolute; left: 194px; top: 330px; z-index: 358;"><div style="height: 100px; margin-top: -50px; margin-left: -50%; display: table; border-spacing: 0px;"><div style="display: table-cell; vertical-align: middle; white-space: nowrap; text-align: center;"><div style="color: rgb(0, 0, 0); font-size: 14px; font-family: Roboto,Arial,sans-serif;">C</div></div></div></div><div style="position: absolute; left: 189px; top: 347px; z-index: 375;"><div style="height: 100px; margin-top: -50px; margin-left: -50%; display: table; border-spacing: 0px;"><div style="display: table-cell; vertical-align: middle; white-space: nowrap; text-align: center;"><div style="color: rgb(0, 0, 0); font-size: 14px; font-family: Roboto,Arial,sans-serif;">D</div></div></div></div></div><div style="position: absolute; z-index: 0; left: 0px; top: 0px;"><div style="overflow: hidden; width: 500px; height: 517px;"><img style="width: 500px; height: 517px;" src="Place%20searches_fichiers/StaticMapService.png"></div></div><div style="position: absolute; left: 0px; top: 0px; z-index: 0;"><div style="position: absolute; left: 0px; top: 0px; z-index: 1; visibility: inherit;" aria-hidden="true"><div style="position: absolute; left: 235px; top: 207px; transition: opacity 200ms ease-out 0s;"><img style="width: 256px; height: 256px; -moz-user-select: none; border: 0px none; padding: 0px; margin: 0px; max-width: none;" src="Place%20searches_fichiers/vt_003.png" draggable="false" alt=""></div><div style="position: absolute; left: -21px; top: 207px; transition: opacity 200ms ease-out 0s;"><img style="width: 256px; height: 256px; -moz-user-select: none; border: 0px none; padding: 0px; margin: 0px; max-width: none;" src="Place%20searches_fichiers/vt_008.png" draggable="false" alt=""></div><div style="position: absolute; left: 235px; top: -49px; transition: opacity 200ms ease-out 0s;"><img style="width: 256px; height: 256px; -moz-user-select: none; border: 0px none; padding: 0px; margin: 0px; max-width: none;" src="Place%20searches_fichiers/vt_002.png" draggable="false" alt=""></div><div style="position: absolute; left: -21px; top: 463px; transition: opacity 200ms ease-out 0s;"><img style="width: 256px; height: 256px; -moz-user-select: none; border: 0px none; padding: 0px; margin: 0px; max-width: none;" src="Place%20searches_fichiers/vt_009.png" draggable="false" alt=""></div><div style="position: absolute; left: 235px; top: 463px; transition: opacity 200ms ease-out 0s;"><img style="width: 256px; height: 256px; -moz-user-select: none; border: 0px none; padding: 0px; margin: 0px; max-width: none;" src="Place%20searches_fichiers/vt_006.png" draggable="false" alt=""></div><div style="position: absolute; left: 491px; top: 207px; transition: opacity 200ms ease-out 0s;"><img style="width: 256px; height: 256px; -moz-user-select: none; border: 0px none; padding: 0px; margin: 0px; max-width: none;" src="Place%20searches_fichiers/vt_004.png" draggable="false" alt=""></div><div style="position: absolute; left: 491px; top: -49px; transition: opacity 200ms ease-out 0s;"><img style="width: 256px; height: 256px; -moz-user-select: none; border: 0px none; padding: 0px; margin: 0px; max-width: none;" src="Place%20searches_fichiers/vt_005.png" draggable="false" alt=""></div><div style="position: absolute; left: 491px; top: 463px; transition: opacity 200ms ease-out 0s;"><img style="width: 256px; height: 256px; -moz-user-select: none; border: 0px none; padding: 0px; margin: 0px; max-width: none;" src="Place%20searches_fichiers/vt.png" draggable="false" alt=""></div><div style="position: absolute; left: -21px; top: -49px; transition: opacity 200ms ease-out 0s;"><img style="width: 256px; height: 256px; -moz-user-select: none; border: 0px none; padding: 0px; margin: 0px; max-width: none;" src="Place%20searches_fichiers/vt_007.png" draggable="false" alt=""></div></div></div></div><div style="position: absolute; left: 0px; top: 0px; z-index: 2; height: 100%; width: 100%; padding: 0px; border-width: 0px; margin: 0px; -moz-user-select: none;"></div><div style="position: absolute; left: 0px; top: 0px; z-index: 3; height: 100%; width: 100%; padding: 0px; border-width: 0px; margin: 0px; -moz-user-select: none;"><iframe src="Place%20searches_fichiers/widget.htm" allowtransparency="true" scrolling="no" style="border: 0px none; overflow: hidden; height: 100%; width: 100%;" frameborder="0"></iframe></div><div style="position: absolute; left: 0px; top: 0px; z-index: 4; width: 100%;"><div style="position: absolute; left: 0px; top: 0px; z-index: 104; width: 100%;"></div><div style="position: absolute; left: 0px; top: 0px; z-index: 105; width: 100%;"></div><div style="position: absolute; left: 0px; top: 0px; z-index: 106; width: 100%;"><div style="width: 22px; height: 40px; overflow: hidden; position: absolute; opacity: 0.01; left: 299px; top: 102px; z-index: 142;" class="gmnoprint"><img style="position: absolute; left: 0px; top: 0px; width: 22px; height: 40px; -moz-user-select: none; border: 0px none; padding: 0px; margin: 0px; max-width: none;" src="Place%20searches_fichiers/spotlight-poi-dotless.png" draggable="false" usemap="#gmimap0"><map name="gmimap0" id="gmimap0"><area log="miw" coords="8,0,5,1,4,2,3,3,2,4,2,5,1,6,1,7,0,8,0,14,1,15,1,16,2,17,2,18,3,19,3,20,4,21,5,22,5,23,6,24,7,25,7,27,8,28,8,29,9,30,9,33,10,34,10,40,11,40,11,34,12,33,12,30,13,29,13,28,14,27,14,25,15,24,16,23,16,22,17,21,18,20,18,19,19,18,19,17,20,16,20,15,21,14,21,8,20,7,20,6,19,5,19,4,18,3,17,2,16,1,14,1,13,0,8,0" shape="poly" title="" style="cursor: pointer;"></map></div><div style="width: 22px; height: 40px; overflow: hidden; position: absolute; opacity: 0.01; left: 196px; top: 228px; z-index: 268;" class="gmnoprint"><img style="position: absolute; left: 0px; top: 0px; width: 22px; height: 40px; -moz-user-select: none; border: 0px none; padding: 0px; margin: 0px; max-width: none;" src="Place%20searches_fichiers/spotlight-poi-dotless.png" draggable="false" usemap="#gmimap1"><map name="gmimap1" id="gmimap1"><area log="miw" coords="8,0,5,1,4,2,3,3,2,4,2,5,1,6,1,7,0,8,0,14,1,15,1,16,2,17,2,18,3,19,3,20,4,21,5,22,5,23,6,24,7,25,7,27,8,28,8,29,9,30,9,33,10,34,10,40,11,40,11,34,12,33,12,30,13,29,13,28,14,27,14,25,15,24,16,23,16,22,17,21,18,20,18,19,19,18,19,17,20,16,20,15,21,14,21,8,20,7,20,6,19,5,19,4,18,3,17,2,16,1,14,1,13,0,8,0" shape="poly" title="" style="cursor: pointer;"></map></div><div style="width: 22px; height: 40px; overflow: hidden; position: absolute; opacity: 0.01; left: 183px; top: 318px; z-index: 358;" class="gmnoprint"><img style="position: absolute; left: 0px; top: 0px; width: 22px; height: 40px; -moz-user-select: none; border: 0px none; padding: 0px; margin: 0px; max-width: none;" src="Place%20searches_fichiers/spotlight-poi-dotless.png" draggable="false" usemap="#gmimap2"><map name="gmimap2" id="gmimap2"><area log="miw" coords="8,0,5,1,4,2,3,3,2,4,2,5,1,6,1,7,0,8,0,14,1,15,1,16,2,17,2,18,3,19,3,20,4,21,5,22,5,23,6,24,7,25,7,27,8,28,8,29,9,30,9,33,10,34,10,40,11,40,11,34,12,33,12,30,13,29,13,28,14,27,14,25,15,24,16,23,16,22,17,21,18,20,18,19,19,18,19,17,20,16,20,15,21,14,21,8,20,7,20,6,19,5,19,4,18,3,17,2,16,1,14,1,13,0,8,0" shape="poly" title="" style="cursor: pointer;"></map></div><div style="width: 22px; height: 40px; overflow: hidden; position: absolute; opacity: 0.01; left: 178px; top: 335px; z-index: 375;" class="gmnoprint"><img style="position: absolute; left: 0px; top: 0px; width: 22px; height: 40px; -moz-user-select: none; border: 0px none; padding: 0px; margin: 0px; max-width: none;" src="Place%20searches_fichiers/spotlight-poi-dotless.png" draggable="false" usemap="#gmimap3"><map name="gmimap3" id="gmimap3"><area log="miw" coords="8,0,5,1,4,2,3,3,2,4,2,5,1,6,1,7,0,8,0,14,1,15,1,16,2,17,2,18,3,19,3,20,4,21,5,22,5,23,6,24,7,25,7,27,8,28,8,29,9,30,9,33,10,34,10,40,11,40,11,34,12,33,12,30,13,29,13,28,14,27,14,25,15,24,16,23,16,22,17,21,18,20,18,19,19,18,19,17,20,16,20,15,21,14,21,8,20,7,20,6,19,5,19,4,18,3,17,2,16,1,14,1,13,0,8,0" shape="poly" title="" style="cursor: pointer;"></map></div></div><div style="position: absolute; left: 0px; top: 0px; z-index: 107; width: 100%;"><div style="cursor: default; position: absolute; width: 53px; height: 186px; visibility: hidden;"><div style="position: absolute; left: 0px; top: 0px;"><div style="width: 0px; height: 0px; border-right: 10px solid transparent; border-left: 10px solid transparent; border-top: 24px solid rgba(0, 0, 0, 0.1); position: absolute; left: 17px; top: 186px;"></div><div style="position: absolute; left: 0px; top: 0px; background-color: rgba(0, 0, 0, 0.2); border-radius: 2px; box-shadow: 0px 1px 4px -1px rgba(0, 0, 0, 0.3); width: 53px; height: 186px;"></div><div style="border-top-width: 24px; position: absolute; left: 17px; top: 183px;"><div style="position: absolute; overflow: hidden; left: -6px; top: -1px; width: 16px; height: 30px;"><div style="position: absolute; left: 6px; background-color: rgb(255, 255, 255); transform: skewX(22.6deg); transform-origin: 0px 0px 0px; height: 24px; width: 10px; box-shadow: 0px 1px 6px rgba(0, 0, 0, 0.6);"></div></div><div style="position: absolute; overflow: hidden; top: -1px; left: 10px; width: 16px; height: 30px;"><div style="position: absolute; left: 0px; background-color: rgb(255, 255, 255); transform: skewX(-22.6deg); transform-origin: 10px 0px 0px; height: 24px; width: 10px; box-shadow: 0px 1px 6px rgba(0, 0, 0, 0.6);"></div></div></div><div style="position: absolute; left: 1px; top: 1px; border-radius: 2px; background-color: rgb(255, 255, 255); width: 51px; height: 184px;"></div></div><div style="top: 9px; position: absolute; left: 15px; width: 23px; overflow: hidden;" class="gm-style-iw"><div style="display: inline-block; overflow: auto; max-height: 426px; max-width: 399px;"></div><iframe src="Place%20searches_fichiers/widget_002.htm" allowtransparency="true" scrolling="no" style="border: 0px none; overflow: hidden;" frameborder="0"></iframe></div><div style="width: 13px; height: 13px; overflow: hidden; position: absolute; opacity: 0.7; right: 15px; top: 13px; z-index: 10000; cursor: pointer;"><img style="position: absolute; left: -2px; top: -336px; width: 59px; height: 492px; -moz-user-select: none; border: 0px none; padding: 0px; margin: 0px; max-width: none;" src="Place%20searches_fichiers/mapcnt6.png" draggable="false"></div></div></div></div></div><div style="margin-left: 5px; margin-right: 5px; z-index: 1000000; position: absolute; left: 0px; bottom: 0px;"><a style="position: static; overflow: visible; float: none; display: inline;" target="_blank" href="https://maps.google.com/maps?ll=46.540718,-72.750204&amp;z=14&amp;t=m&amp;hl=fr&amp;gl=US&amp;mapclient=apiv3" title="Cliquez ici pour afficher cette zone sur Google&nbsp;Maps"><div style="width: 66px; height: 26px; cursor: pointer;"><img style="position: absolute; left: 0px; top: 0px; width: 66px; height: 26px; -moz-user-select: none; border: 0px none; padding: 0px; margin: 0px;" src="Place%20searches_fichiers/google4.png" draggable="false"></div></a></div><div style="background-color: white; padding: 15px 21px; border: 1px solid rgb(171, 171, 171); font-family: Roboto,Arial,sans-serif; color: rgb(34, 34, 34); box-shadow: 0px 4px 16px rgba(0, 0, 0, 0.2); z-index: 10000002; display: none; width: 256px; height: 148px; position: absolute; left: 100px; top: 169px;"><div style="padding: 0px 0px 10px; font-size: 16px;">Données cartographiques</div><div style="font-size: 13px;">Données cartographiques ©2017 Google</div><div style="width: 13px; height: 13px; overflow: hidden; position: absolute; opacity: 0.7; right: 12px; top: 12px; z-index: 10000; cursor: pointer;"><img style="position: absolute; left: -2px; top: -336px; width: 59px; height: 492px; -moz-user-select: none; border: 0px none; padding: 0px; margin: 0px; max-width: none;" src="Place%20searches_fichiers/mapcnt6.png" draggable="false"></div></div><div class="gmnoprint" style="z-index: 1000001; position: absolute; right: 275px; bottom: 0px; width: 194px;"><div draggable="false" style="-moz-user-select: none; height: 14px; line-height: 14px;" class="gm-style-cc"><div style="opacity: 0.7; width: 100%; height: 100%; position: absolute;"><div style="width: 1px;"></div><div style="background-color: rgb(245, 245, 245); width: auto; height: 100%; margin-left: 1px;"></div></div><div style="position: relative; padding-right: 6px; padding-left: 6px; font-family: Roboto,Arial,sans-serif; font-size: 10px; color: rgb(68, 68, 68); white-space: nowrap; direction: ltr; text-align: right; vertical-align: middle; display: inline-block;"><a style="color: rgb(68, 68, 68); text-decoration: none; cursor: pointer; display: none;">Données cartographiques</a><span style="">Données cartographiques ©2017 Google</span></div></div></div><div class="gmnoscreen" style="position: absolute; right: 0px; bottom: 0px;"><div style="font-family: Roboto,Arial,sans-serif; font-size: 11px; color: rgb(68, 68, 68); direction: ltr; text-align: right; background-color: rgb(245, 245, 245);">Données cartographiques ©2017 Google</div></div><div class="gmnoprint gm-style-cc" style="z-index: 1000001; -moz-user-select: none; height: 14px; line-height: 14px; position: absolute; right: 162px; bottom: 0px;" draggable="false"><div style="opacity: 0.7; width: 100%; height: 100%; position: absolute;"><div style="width: 1px;"></div><div style="background-color: rgb(245, 245, 245); width: auto; height: 100%; margin-left: 1px;"></div></div><div style="position: relative; padding-right: 6px; padding-left: 6px; font-family: Roboto,Arial,sans-serif; font-size: 10px; color: rgb(68, 68, 68); white-space: nowrap; direction: ltr; text-align: right; vertical-align: middle; display: inline-block;"><a style="text-decoration: none; cursor: pointer; color: rgb(68, 68, 68);" href="https://www.google.com/intl/fr_US/help/terms_maps.html" target="_blank">Conditions d'utilisation</a></div></div><div style="cursor: pointer; width: 25px; height: 25px; overflow: hidden; display: none; margin: 10px 14px; position: absolute; top: 0px; right: 0px;"><img style="position: absolute; left: -52px; top: -86px; width: 164px; height: 175px; -moz-user-select: none; border: 0px none; padding: 0px; margin: 0px;" src="Place%20searches_fichiers/sv9.png" draggable="false" class="gm-fullscreen-control"></div><div style="z-index: 1000000; position: absolute; width: 87px; margin: 10px; top: 0px; right: -4px; height: 26px;" controlwidth="83" controlheight="22"><iframe src="Place%20searches_fichiers/widget_003.htm" allowtransparency="true" scrolling="no" style="border: 0px none; overflow: hidden; position: absolute; right: 0px; visibility: visible; width: 87px; height: 26px;" frameborder="0"></iframe></div><div draggable="false" style="-moz-user-select: none; height: 14px; line-height: 14px; position: absolute; right: 0px; bottom: 0px;" class="gm-style-cc"><div style="opacity: 0.7; width: 100%; height: 100%; position: absolute;"><div style="width: 1px;"></div><div style="background-color: rgb(245, 245, 245); width: auto; height: 100%; margin-left: 1px;"></div></div><div style="position: relative; padding-right: 6px; padding-left: 6px; font-family: Roboto,Arial,sans-serif; font-size: 10px; color: rgb(68, 68, 68); white-space: nowrap; direction: ltr; text-align: right; vertical-align: middle; display: inline-block;"><a target="_new" title="Signaler à Google une erreur dans la carte routière ou les images" style="font-family: Roboto,Arial,sans-serif; font-size: 10px; color: rgb(68, 68, 68); text-decoration: none; position: relative;" href="https://www.google.com/maps/@46.5407179,-72.750204,14z/data=%2110m1%211e1%2112b1?source=apiv3&amp;rapsrc=apiv3">Signaler une erreur cartographique</a></div></div><div class="gmnoprint gm-bundled-control gm-bundled-control-on-bottom" style="margin: 10px; -moz-user-select: none; position: absolute; bottom: 107px; right: 28px;" draggable="false" controlwidth="28" controlheight="93"><div class="gmnoprint" style="position: absolute; left: 0px; top: 38px;" controlwidth="28" controlheight="55"><div draggable="false" style="-moz-user-select: none; box-shadow: 0px 1px 4px -1px rgba(0, 0, 0, 0.3); border-radius: 2px; cursor: pointer; background-color: rgb(255, 255, 255); width: 28px; height: 55px;"><div title="Zoom avant" style="position: relative; width: 28px; height: 27px; left: 0px; top: 0px;"><div style="overflow: hidden; position: absolute; width: 15px; height: 15px; left: 7px; top: 6px;"><img style="position: absolute; left: 0px; top: 0px; -moz-user-select: none; border: 0px none; padding: 0px; margin: 0px; max-width: none; width: 120px; height: 54px;" src="Place%20searches_fichiers/tmapctrl.png" draggable="false"></div></div><div style="position: relative; overflow: hidden; width: 67%; height: 1px; left: 16%; background-color: rgb(230, 230, 230); top: 0px;"></div><div title="Zoom arrière" style="position: relative; width: 28px; height: 27px; left: 0px; top: 0px;"><div style="overflow: hidden; position: absolute; width: 15px; height: 15px; left: 7px; top: 6px;"><img style="position: absolute; left: 0px; top: -15px; -moz-user-select: none; border: 0px none; padding: 0px; margin: 0px; max-width: none; width: 120px; height: 54px;" src="Place%20searches_fichiers/tmapctrl.png" draggable="false"></div></div></div></div><div class="gm-svpc" style="background-color: rgb(255, 255, 255); box-shadow: 0px 1px 4px -1px rgba(0, 0, 0, 0.3); border-radius: 2px; width: 28px; height: 28px; cursor: url(&quot;https://maps.gstatic.com/mapfiles/openhand_8_8.cur&quot;), default; position: absolute; left: 0px; top: 0px;" controlwidth="28" controlheight="28"><div style="position: absolute; left: 1px; top: 1px;"></div><div style="position: absolute; left: 1px; top: 1px;"><div style="width: 26px; height: 26px; overflow: hidden; position: absolute; left: 0px; top: 0px;" aria-label="Contrôle de Pegman dans Street View"><img style="position: absolute; left: -147px; top: -26px; width: 215px; height: 835px; -moz-user-select: none; border: 0px none; padding: 0px; margin: 0px; max-width: none;" src="Place%20searches_fichiers/cb_scout5.png" draggable="false"></div><div style="width: 26px; height: 26px; overflow: hidden; position: absolute; left: 0px; top: 0px; visibility: hidden;" aria-label="Pegman est au-dessus de la carte."><img style="position: absolute; left: -147px; top: -52px; width: 215px; height: 835px; -moz-user-select: none; border: 0px none; padding: 0px; margin: 0px; max-width: none;" src="Place%20searches_fichiers/cb_scout5.png" draggable="false"></div><div style="width: 26px; height: 26px; overflow: hidden; position: absolute; left: 0px; top: 0px; visibility: hidden;" aria-label="Contrôle de Pegman dans Street View"><img style="position: absolute; left: -147px; top: -78px; width: 215px; height: 835px; -moz-user-select: none; border: 0px none; padding: 0px; margin: 0px; max-width: none;" src="Place%20searches_fichiers/cb_scout5.png" draggable="false"></div></div></div><div class="gmnoprint" controlwidth="28" controlheight="0" style="display: none; position: absolute;"><div style="width: 28px; height: 28px; overflow: hidden; position: absolute; border-radius: 2px; box-shadow: 0px 1px 4px -1px rgba(0, 0, 0, 0.3); cursor: pointer; background-color: rgb(255, 255, 255); display: none;" title="Faire pivoter le plan à 90°"><img style="position: absolute; left: -141px; top: 6px; width: 170px; height: 54px; -moz-user-select: none; border: 0px none; padding: 0px; margin: 0px; max-width: none;" src="Place%20searches_fichiers/tmapctrl4.png" draggable="false"></div><div style="width: 28px; height: 28px; overflow: hidden; position: absolute; border-radius: 2px; box-shadow: 0px 1px 4px -1px rgba(0, 0, 0, 0.3); top: 0px; cursor: pointer; background-color: rgb(255, 255, 255);" class="gm-tilt"><img style="position: absolute; left: -141px; top: -13px; width: 170px; height: 54px; -moz-user-select: none; border: 0px none; padding: 0px; margin: 0px; max-width: none;" src="Place%20searches_fichiers/tmapctrl4.png" draggable="false"></div></div></div><div class="gmnoprint" style="margin: 10px; z-index: 0; position: absolute; cursor: pointer; left: 0px; top: 0px;"><div style="float: left;" class="gm-style-mtc"><div style="direction: ltr; overflow: hidden; text-align: center; position: relative; color: rgb(0, 0, 0); font-family: Roboto,Arial,sans-serif; -moz-user-select: none; font-size: 11px; background-color: rgb(255, 255, 255); padding: 8px; border-bottom-left-radius: 2px; border-top-left-radius: 2px; background-clip: padding-box; box-shadow: 0px 1px 4px -1px rgba(0, 0, 0, 0.3); min-width: 20px; font-weight: 500;" draggable="false" title="Afficher un plan de ville">Plan</div><div style="background-color: white; z-index: -1; padding: 2px; border-bottom-left-radius: 2px; border-bottom-right-radius: 2px; box-shadow: 0px 1px 4px -1px rgba(0, 0, 0, 0.3); position: absolute; left: 0px; top: 29px; text-align: left; display: none;"><div style="color: rgb(0, 0, 0); font-family: Roboto,Arial,sans-serif; -moz-user-select: none; font-size: 11px; background-color: rgb(255, 255, 255); padding: 6px 8px 6px 6px; direction: ltr; text-align: left; white-space: nowrap;" draggable="false" title="Afficher le relief sur la carte"><span role="checkbox" style="box-sizing: border-box; position: relative; line-height: 0; font-size: 0px; margin: 0px 5px 0px 0px; display: inline-block; background-color: rgb(255, 255, 255); border: 1px solid rgb(198, 198, 198); border-radius: 1px; width: 13px; height: 13px; vertical-align: middle;"><div style="position: absolute; left: 1px; top: -2px; width: 13px; height: 11px; overflow: hidden; display: none;"><img style="position: absolute; left: -52px; top: -44px; -moz-user-select: none; border: 0px none; padding: 0px; margin: 0px; max-width: none; width: 68px; height: 67px;" src="Place%20searches_fichiers/imgs8.png" draggable="false"></div></span><label style="vertical-align: middle; cursor: pointer;">Relief</label></div></div></div><div style="float: left;" class="gm-style-mtc"><div style="direction: ltr; overflow: hidden; text-align: center; position: relative; color: rgb(86, 86, 86); font-family: Roboto,Arial,sans-serif; -moz-user-select: none; font-size: 11px; background-color: rgb(255, 255, 255); padding: 8px; border-bottom-right-radius: 2px; border-top-right-radius: 2px; background-clip: padding-box; box-shadow: 0px 1px 4px -1px rgba(0, 0, 0, 0.3); border-left: 0px none; min-width: 37px;" draggable="false" title="Afficher les images satellite">Satellite</div><div style="background-color: white; z-index: -1; padding: 2px; border-bottom-left-radius: 2px; border-bottom-right-radius: 2px; box-shadow: 0px 1px 4px -1px rgba(0, 0, 0, 0.3); position: absolute; right: 0px; top: 29px; text-align: left; display: none;"><div style="color: rgb(0, 0, 0); font-family: Roboto,Arial,sans-serif; -moz-user-select: none; font-size: 11px; background-color: rgb(255, 255, 255); padding: 6px 8px 6px 6px; direction: ltr; text-align: left; white-space: nowrap;" draggable="false" title="Afficher les images satellite avec le nom des rues"><span role="checkbox" style="box-sizing: border-box; position: relative; line-height: 0; font-size: 0px; margin: 0px 5px 0px 0px; display: inline-block; background-color: rgb(255, 255, 255); border: 1px solid rgb(198, 198, 198); border-radius: 1px; width: 13px; height: 13px; vertical-align: middle;"><div style="position: absolute; left: 1px; top: -2px; width: 13px; height: 11px; overflow: hidden;"><img style="position: absolute; left: -52px; top: -44px; -moz-user-select: none; border: 0px none; padding: 0px; margin: 0px; max-width: none; width: 68px; height: 67px;" src="Place%20searches_fichiers/imgs8.png" draggable="false"></div></span><label style="vertical-align: middle; cursor: pointer;">Légendes</label></div></div></div></div></div></div></div>
    </div>
    </div>
    <div class="col-md-6">
    <form method="post" action="" id="ourForm">
    <div class="form-group">
    <label class="col-form-label"> Que veux-tu faire aujourd'hui ? </label>
      <input id="request" name="request" placeholder="Que souhaitez-vous faire?" type="hidden">
		<ul id="user_inputs" class="form-group" style="list-style-type: none;padding-left:0px">

						<li class="form-group row"><textarea class="user_inputs form-control" data-position="0" id="user_inputs_0" rows="1" cols="50"></textarea></li>
		</ul>

<script type="text/javascript">
		<!--

		//-->

		$(function (){
			mmh('#user_inputs_0');
			});

		function mmh(element){
		$(element).keydown(function (e) {
			//console.log(e);
			//console.log(e.keyCode);
			// Entree
			  if ( (e.keyCode == 13 || e.keyCode == 10) && !e.shiftKey) {
				  var tableau = document.getElementsByClassName('user_inputs');
				  var indice = tableau.length;
				  //console.log(indice);
				  var nvtext = e.currentTarget.value.substring(e.currentTarget.selectionStart);
				  e.currentTarget.value = e.currentTarget.value.substring(0,e.currentTarget.selectionStart);
				  $(e.target.parentNode).after('<li class="form-group row"> <textarea class="user_inputs form-control" data-position="'+indice+'" id="user_inputs_'+indice+'" rows="1" cols="50">'+nvtext+'</textarea></li>');
				    e.preventDefault();
				    e.stopPropagation();
				    mmh('#user_inputs_'+indice);
					document.getElementById('user_inputs_'+indice).focus();
			  }
			  //Retour
			  if (e.keyCode == 8) {
				  if(document.getElementsByClassName('user_inputs').length > 1){
					  if( 0 == e.currentTarget.selectionEnd){
						  //console.log('#'+e.currentTarget.id);
						  $(e.currentTarget).parent().prev().find("textarea").focus();
						  var ancien = $(e.currentTarget).parent().prev().find("textarea").val().length;

						  //console.log("ancien "+ancien);
						   $(e.currentTarget).parent().prev().find("textarea").val($(e.currentTarget).parent().prev().find("textarea").val()+e.currentTarget.value);
						   $(e.currentTarget).parent().prev().find("textarea")[0].setSelectionRange(ancien,ancien);

							$(e.currentTarget).parent().remove();
						  e.preventDefault();
						  e.stopPropagation();
					  }
				  }
			  }
			  //Suppr
			  if (e.keyCode == 46) {
				  if(document.getElementsByClassName('user_inputs').length > 1){
					  if(e.currentTarget.value.length == e.currentTarget.selectionStart){
						  var ancien = e.currentTarget.value.length;
						  e.currentTarget.value = e.currentTarget.value+ ($(e.currentTarget).parent().next().find("textarea").val());
						  e.currentTarget.setSelectionRange(ancien,ancien);
						  $(e.currentTarget).parent().next().remove();
						  if(e.currentTarget.value == 'undefined' ){
							  $(e.currentTarget).parent().prev().find("user_inputs").focus();
							  $(e.currentTarget).parent().remove();
						  }
						  e.preventDefault();
						  e.stopPropagation();

					}
					//console.log('#'+e.currentTarget.id);
					  /* $(e.currentTarget).parent().next().find("textarea").focus();
					  $(e.currentTarget).parent().remove();
					  e.preventDefault();
					  e.stopPropagation();*/
				  }
			  }
			});
		}

		function sub(){
			var requete ='';
			var eu = document.getElementById('user_inputs').getElementsByClassName('user_inputs');
			for (indice = 0; indice< eu.length;indice++){
				requete += eu[indice].value +'|';
			}
			document.getElementById('request').value = requete;
			console.log($('#ourForm'));
			$('#ourForm').submit();
		}
		</script>
      <label class="col-form-label">Combien de parcours souhaites-tu voir ?</label>
      <input name="nb" class="form-control" value="3" min="0" max="10/" type="number">
      <label class="col-form-label" style="color=#ddd !important;">De combien de temps disposes-tu ?</label>
      <input name="max_duration" class="form-control" value="4" min="0" max="10/" type="number">
      <button type="button" onclick="sub()" class="btn btn-default">C'est parti !</button>
    </div>
    </form>
	</div>
	<script type="text/javascript">
	function afficherProp(i){
		bounds = new google.maps.LatLngBounds();
		for (var j = 0; j < all_pts.length; j++){
			for (var k = 0; k < all_pts[j].length; k++){
				all_markers[j][k].setVisible(false);
			}
		}
		for (var k = 0; k < all_pts[i].length; k++){
			all_markers[i][k].setVisible(true);
			latlng = new google.maps.LatLng (all_pts[i][k].lat,all_pts[i][k].lng);
	        bounds.extend(latlng);
		}
		map.fitBounds(bounds);
	}
	</script>
	<div class="col-md-6">
			<div class="panel panel-default" onclick="afficherProp(0)">
		<div class="panel-heading" style="font-weight: 700;">
			Circuit #1		</div>
		<div class="panel-body">
			Toto
		</div>
		</div>
		</div>
	</div>
      <script src="Place%20searches_fichiers/js" async="" defer="defer"></script>




<iframe name="gm-master" src="Place%20searches_fichiers/master.htm" style="visibility: hidden; position: absolute; left: 0px; top: 0px; width: 0px; height: 0px;"></iframe></body></html>
